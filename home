<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Russo+One&family=Titillium+Web:wght@300;400;600;700&display=swap"
        rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://unpkg.com/lucide@latest"></script>

    <link rel="stylesheet" href="static/css/style.css">
</head>

<body>

    <nav class="navbar navbar-expand-lg fixed-top transition-all duration-500 bg-transparent" id="mainNavbar">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-3 group" href="index.html">
                <div class="position-relative">
                    <i data-lucide="flag" class="text-primary w-8 h-8 transition-transform group-hover-scale-110"></i>
                    <div
                        class="position-absolute top-0 start-0 w-100 h-100 bg-primary opacity-0 blur-xl group-hover-opacity-100 transition-opacity">
                    </div>
                </div>
                <span class="font-heading fs-4 tracking-wider">
                    <span class="text-primary text-glow-red">APEX</span>
                    <span class="text-foreground"> F1</span>
                </span>
            </a>

            <button class="navbar-toggler border-0 text-foreground" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNav">
                <i data-lucide="menu"></i>
            </button>

<ul class="navbar-nav ms-auto gap-1 align-items-center">
    
    <li class="nav-item position-relative">
        <a class="nav-link px-3 py-2 font-body text-sm uppercase tracking-widest text-muted-foreground hover-text-foreground "
            href="index.html">
            Home
        </a>
        
    </li>
    
    <li class="nav-item position-relative">
        <a class="nav-link px-3 py-2 font-body text-sm uppercase tracking-widest text-muted-foreground hover-text-foreground "
            href="drivers">
            Drivers
        </a>
        
    </li>
    
    <li class="nav-item position-relative">
        <a class="nav-link px-3 py-2 font-body text-sm uppercase tracking-widest text-muted-foreground hover-text-foreground "
            href="teams">
            Teams
        </a>
        
    </li>
    
    <li class="nav-item position-relative">
        <a class="nav-link px-3 py-2 font-body text-sm uppercase tracking-widest text-muted-foreground hover-text-foreground "
            href="circuits">
            Circuits
        </a>
        
    </li>
    
    <li class="nav-item position-relative">
        <a class="nav-link px-3 py-2 font-body text-sm uppercase tracking-widest text-muted-foreground hover-text-foreground "
            href="history">
            History
        </a>
        
    </li>
    
    <li class="nav-item position-relative">
        <a class="nav-link px-3 py-2 font-body text-sm uppercase tracking-widest text-muted-foreground hover-text-foreground "
            href="strategy">
            Strategy
        </a>
        
    </li>
    
    <li class="nav-item position-relative">
        <a class="nav-link px-3 py-2 font-body text-sm uppercase tracking-widest text-muted-foreground hover-text-foreground "
            href="tech">
            Tech Hub
        </a>
        
    </li>
    
    <li class="nav-item position-relative">
        <a class="nav-link px-3 py-2 font-body text-sm uppercase tracking-widest text-muted-foreground hover-text-foreground "
            href="audio">
            Audio Lab
        </a>
        
    </li>
    
    <li class="nav-item position-relative">
        <a class="nav-link px-3 py-2 font-body text-sm uppercase tracking-widest text-muted-foreground hover-text-foreground "
            href="reflex">
            Reflex
        </a>
        
    </li>
    
</ul>
            </div>
        </div>
    </nav>

    <main>
        
<div id="page-transition-curtain" 
     style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; z-index: 99999; transition: opacity 1.5s ease-out; pointer-events: none;">
</div>

<script>
    // 1. RELOAD DETECTION (Sends you back to Intro on refresh)
    const perfEntries = performance.getEntriesByType("navigation");
    if (perfEntries.length > 0 && perfEntries[0].type === 'reload') {
        sessionStorage.removeItem('apex_visited');
        window.location.href = "index.html"; 
    }

    // 2. FADE IN ANIMATION (Removes the black curtain)
    window.addEventListener('load', () => {
        const curtain = document.getElementById('page-transition-curtain');
        // Small delay to ensure browser rendered the black frame first
        setTimeout(() => {
            curtain.style.opacity = '0'; // Fade out
            // Remove from DOM after animation
            setTimeout(() => { curtain.remove(); }, 1500);
        }, 100);
    });
</script>

<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>

<section class="position-relative vh-100 d-flex align-items-center justify-content-center overflow-hidden">
    <div class="position-absolute top-0 start-0 w-100 h-100" style="z-index: 0; pointer-events: none;">
        <video autoplay muted loop playsinline class="w-100 h-100 object-fit-cover" style="filter: brightness(0.5) contrast(1.2);">
            <source src="static/images/home_bg.mp4" type="video/mp4">
        </video>
        <div class="scanlines"></div>
        <div class="vignette"></div>
    </div>

    <div class="container text-center position-relative" style="z-index: 100;">
        <div class="d-inline-flex align-items-center gap-2 px-3 py-1 border border-danger bg-black bg-opacity-50 mb-4 animate-fade-in">
            <div class="spinner-grow text-danger spinner-grow-sm" role="status"></div>
            <span class="font-heading text-danger tracking-widest small">LIVE BROADCAST // SEASON 2025</span>
        </div>

        <h1 class="display-1 fw-bold font-heading text-white mb-2 glitch-wrapper">
            <span class="glitch" data-text="APEX F1">APEX F1</span>
        </h1>
        
        <p class="lead text-white-50 font-body mb-5 tracking-wide animate-fade-in animation-delay-200">
            SPEED. DATA. GLORY.
        </p>

        <button onclick="document.getElementById('mission-control').scrollIntoView({behavior: 'smooth'})" 
                class="btn btn-danger btn-lg rounded-0 font-heading tracking-widest px-5 py-3 hover-glitch position-relative"
                style="z-index: 200;">
            INITIALIZE SYSTEM
        </button>
    </div>
</section>

<section id="mission-control" class="py-5 bg-black border-top border-secondary position-relative">
    <div class="grid-bg"></div>
    
    <div class="container py-5 position-relative z-index-10">
        <div class="row align-items-end mb-5">
            <div class="col-md-6">
                <h2 class="font-heading text-primary display-4 mb-0">MISSION <span class="text-white">CONTROL</span></h2>
                <p class="text-muted font-body">Global Telemetry Uplink Established.</p>
            </div>
            <div class="col-md-6 text-md-end">
                <div class="d-inline-block text-start p-3 border border-secondary bg-dark bg-opacity-50">
                    <small class="text-muted d-block font-heading text-uppercase">Next Grand Prix</small>
                    <div id="countdown" class="display-6 font-heading text-white">00:00:00:00</div>
                    <small class="text-primary font-body">AUSTRALIAN GP // ALBERT PARK</small>
                </div>
            </div>
        </div>

        <div class="row g-4">
            <div class="col-md-3">
                <div class="p-4 border border-secondary bg-dark bg-opacity-25 h-100">
                    <i data-lucide="thermometer" class="text-danger mb-3"></i>
                    <h5 class="font-heading text-white">TRACK TEMP</h5>
                    <p class="display-6 font-heading text-white mb-0">32Â°C</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="p-4 border border-secondary bg-dark bg-opacity-25 h-100">
                    <i data-lucide="wind" class="text-primary mb-3"></i>
                    <h5 class="font-heading text-white">WIND SPEED</h5>
                    <p class="display-6 font-heading text-white mb-0">12 KM/H</p>
                </div>
            </div>
            <div class="col-md-6">
                <div class="p-4 border border-secondary bg-black h-100 font-monospace text-success small overflow-hidden" style="min-height: 200px;">
                    <div>
                        > CONNECTING TO FIA SERVERS...<br>
                        > VERSTAPPEN_LAP_1.DAT RECEIVED<br>
                        > SYSTEM OPTIMIZED.<br>
                        > WAITING FOR LIGHTS OUT...
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5 bg-dark position-relative border-top border-secondary">
    <div class="container py-5">
        <div class="text-center mb-5">
            <h2 class="font-heading text-white display-4">THE <span class="text-primary">MACHINERY</span></h2>
            <p class="text-white-50">Interactive 3D Inspection</p>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card bg-black border-secondary shadow-lg overflow-hidden position-relative">
                    <div class="ratio ratio-16x9">
                        <model-viewer 
                            id="f1-model"
                            src="static/images/ferrari.glb" 
                            poster="https://media.formula1.com/image/upload/f_auto/q_auto/v1677244985/fom-website/2023/Miscellaneous/2023-pre-season-testing-bahrain-day-1-leclerc.jpg"
                            alt="3D F1 Car"
                            shadow-intensity="1"
                            camera-controls
                            auto-rotate
                            interpolation-decay="200"
                            style="width: 100%; height: 100%; background: radial-gradient(circle at center, #4a0d0d 0%, #000 100%);">
                        </model-viewer>
                    </div>

                    <div class="position-absolute bottom-0 start-50 translate-middle-x mb-4 p-2 bg-dark bg-opacity-75 border border-secondary rounded-pill d-flex gap-2">
                        <button class="btn btn-sm btn-outline-danger rounded-pill px-3 font-heading" 
                                data-model="static/images/ferrari.glb"
                                onclick="changeModel(this.getAttribute('data-model'), 'radial-gradient(circle at center, #4a0d0d 0%, #000 100%)')">FERRARI</button>
                        <button class="btn btn-sm btn-outline-info rounded-pill px-3 font-heading" 
                                data-model="static/images/mercedes.glb"
                                onclick="changeModel(this.getAttribute('data-model'), 'radial-gradient(circle at center, #003333 0%, #000 100%)')">MERCEDES</button>
                        <button class="btn btn-sm btn-outline-primary rounded-pill px-3 font-heading" 
                                data-model="static/images/redbull.glb"
                                onclick="changeModel(this.getAttribute('data-model'), 'radial-gradient(circle at center, #000044 0%, #000 100%)')">RED BULL</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    /* CSS STYLES */
    html { scroll-behavior: smooth; }
    .scanlines { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: repeating-linear-gradient(to bottom, transparent 0px, transparent 2px, rgba(0,0,0,0.3) 3px); pointer-events: none; z-index: 5; }
    .vignette { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, transparent 50%, black 100%); pointer-events: none; z-index: 6; }
    .glitch { position: relative; color: white; }
    .glitch::before, .glitch::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: black; }
    .glitch::before { left: 2px; text-shadow: -1px 0 #ff00c1; clip: rect(44px, 450px, 56px, 0); animation: glitch-anim 5s infinite linear alternate-reverse; }
    .glitch::after { left: -2px; text-shadow: -1px 0 #00fff9; clip: rect(44px, 450px, 56px, 0); animation: glitch-anim 2s infinite linear alternate-reverse; }
    @keyframes glitch-anim { 0% { clip: rect(30px, 9999px, 10px, 0); } 100% { clip: rect(20px, 9999px, 80px, 0); } }
    .grid-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px); background-size: 50px 50px; opacity: 0.5; z-index: 0; }
    .hover-glitch:hover { animation: glitch-skew 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both infinite; background: #fff; color: #000; }
    @keyframes glitch-skew { 0% { transform: skew(0deg); } 20% { transform: skew(-10deg); } 40% { transform: skew(10deg); } 60% { transform: skew(-5deg); } 80% { transform: skew(5deg); } 100% { transform: skew(0deg); } }
</style>

<script>
    // JS LOGIC
    function changeModel(modelPath, bgGradient) {
        const viewer = document.getElementById('f1-model');
        if(viewer) {
            viewer.style.background = bgGradient;
            viewer.src = modelPath;
        }
    }

    const raceDate = new Date("March 16, 2025 15:00:00").getTime();
    setInterval(() => {
        const now = new Date().getTime();
        const distance = raceDate - now;
        const el = document.getElementById("countdown");
        if (el) {
            if (distance > 0) {
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                el.innerHTML = `${days}d : ${hours}h : ${minutes}m`;
            } else {
                el.innerHTML = "LIGHTS OUT";
            }
        }
    }, 1000);
    
    document.addEventListener("DOMContentLoaded", () => {
        if(window.lucide) window.lucide.createIcons();
    });
</script>

    </main>

    <footer class="text-center py-5 mt-5 border-top"
        style="border-color: hsl(var(--border)); background: hsl(var(--card));">
        <div class="container">
            <p class="mb-0 text-muted-foreground font-body">&copy; 2025 Apex F1. The Pinnacle of Motorsport.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="static/js/main.js"></script>
    <script src="static/js/data_loader.js"></script>
    <script>
        // Initialize Lucide Icons
        if (window.lucide) {
            lucide.createIcons();
        }
    </script>
    
</body>

</html>